(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{5602:(e,t,a)=>{Promise.resolve().then(a.bind(a,6707))},6707:(e,t,a)=>{"use strict";a.d(t,{HistoryPage:()=>c});var s=a(5155),l=a(2115),n=a(3353),r=a(8534),i=a(2502),d=a(4065),o=a(2834);i.t1.register(i.PP,i.kc,i.FN,i.No,i.E8,i.m_,i.s$,i.hE,o.A,i.dN);let c=()=>{let[e]=(0,n.fp)(r.iD),[t,a]=(0,l.useState)("line"),i=(0,l.useMemo)(()=>{let t=[];for(let a=27;a>=0;a--){let s=new Date;s.setDate(s.getDate()-a);let l=s.toISOString().slice(0,10),n=e[l];t.push({date:l,value:"good"===n?2:"neutral"===n?1:"bad"===n?0:null})}return t},[e]),o={labels:i.map(e=>e.date.slice(5)),datasets:[{label:"Mood over time",data:i.map(e=>e.value),borderColor:"rgba(59, 130, 246, 0.8)",backgroundColor:function(e){let t=e.dataset.data[e.dataIndex];return 2===t?"rgba(34,197,94,0.5)":1===t?"rgba(234,179,8,0.5)":0===t?"rgba(239,68,68,0.5)":"transparent"},tension:.3,fill:!0,pointRadius:5,pointHoverRadius:7}]},c={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Last 28 Days",font:{size:18}},tooltip:{callbacks:{label:e=>{let t=e.parsed.y,a=2===t?"Good":1===t?"Neutral":"Bad";return"".concat(a," (").concat(t,")")}}},datalabels:{display:!1}},scales:{y:{min:0,max:2,ticks:{stepSize:1,callback:e=>2===e?"\uD83D\uDE0A":1===e?"\uD83D\uDE10":"\uD83D\uDE1E"}}},animations:{tension:{duration:1e3,easing:"linear",from:1,to:0}}},u=(0,l.useMemo)(()=>{let e=0,t=0,a=0;return i.forEach(s=>{2===s.value?e++:1===s.value?t++:0===s.value&&a++}),{good:e,neutral:t,bad:a}},[i]);return(0,s.jsxs)("div",{className:"space-y-6 p-4 max-w-3xl mx-auto mt-16",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,s.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-lg font-semibold",children:"\uD83D\uDE0A Good"}),(0,s.jsx)("p",{className:"text-2xl",children:u.good})]}),(0,s.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-lg font-semibold",children:"\uD83D\uDE10 Neutral"}),(0,s.jsx)("p",{className:"text-2xl",children:u.neutral})]}),(0,s.jsxs)("div",{className:"bg-red-100 p-4 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-lg font-semibold",children:"\uD83D\uDE1E Bad"}),(0,s.jsx)("p",{className:"text-2xl",children:u.bad})]})]}),(0,s.jsxs)("div",{className:"p-4 sm:p-6 bg-white rounded-lg shadow-lg max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"Your Mood Trends"}),(0,s.jsx)("button",{onClick:()=>a("line"===t?"bar":"line"),className:"mt-2 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded transition",children:"line"===t?(0,s.jsx)(s.Fragment,{children:"\uD83D\uDCCA Bar Chart"}):(0,s.jsx)(s.Fragment,{children:"\uD83D\uDCC8 Line Chart"})})]}),(0,s.jsx)("div",{className:"w-full",children:"line"===t?(0,s.jsx)(d.N1,{options:c,data:o}):(0,s.jsx)(d.yP,{options:c,data:o})})]})]})}},8534:(e,t,a)=>{"use strict";a.d(t,{UU:()=>r,iD:()=>n,nv:()=>d,s_:()=>i});var s=a(3005),l=a(5179);let n=(0,l.tG)("moodSnap:entries",{}),r=(0,l.tG)("moodSnap:settings:reminderEnabled",!1),i=(0,l.tG)("moodSnap:settings:streakEnabled",!1);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),a=0,s=new Date(t);for(;;)if(e[s.toISOString().slice(0,10)])a++,s.setDate(s.getDate()-1);else break;return a}(0,s.eU)(e=>{let t=e(n),a=new Date,s=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),r=Object.entries(t).filter(e=>{let[t,a]=e;return t.startsWith("".concat(s,"-").concat(l))});return r.length?Math.round(r.filter(e=>{let[,t]=e;return"good"===t}).length/r.length*100):0})}},e=>{var t=t=>e(e.s=t);e.O(0,[647,483,664,441,684,358],()=>t(5602)),_N_E=e.O()}]);