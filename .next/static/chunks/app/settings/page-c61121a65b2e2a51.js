(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3524:(e,t,s)=>{Promise.resolve().then(s.bind(s,6400))},6400:(e,t,s)=>{"use strict";s.d(t,{SettingsPage:()=>o});var n=s(5155),r=s(3353),a=s(8534),i=s(2115);let o=()=>{let[e,t]=(0,r.fp)(a.UU),[s,o]=(0,r.fp)(a.s_);return(0,i.useEffect)(()=>{"Notification"in window&&e&&"granted"!==Notification.permission&&Notification.requestPermission()},[e]),(0,n.jsxs)("div",{className:"p-6 space-y-6 mt-16",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("label",{htmlFor:"reminder",className:"font-medium",children:"Enable Daily Reminder"}),(0,n.jsx)("input",{id:"reminder",type:"checkbox",checked:e,onChange:()=>{t(!e),e||setTimeout(()=>{new Notification("MoodSnap Reminder",{body:"Don't forget to record your mood today!"})},864e5)},className:"h-5 w-5"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e?"You will receive a browser notification every 24 hours.":"Enable reminders to get notified daily to record your mood."}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("label",{htmlFor:"streak",className:"font-medium",children:"Enable Streak"}),(0,n.jsx)("input",{id:"streak",type:"checkbox",checked:s,onChange:()=>{o(!s)},className:"h-5 w-5"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:s?"You will see your streak on the home page.":"Enable streak to see your streak on the home page."})]})}},8534:(e,t,s)=>{"use strict";s.d(t,{UU:()=>i,iD:()=>a,nv:()=>l,s_:()=>o});var n=s(3005),r=s(5179);let a=(0,r.tG)("moodSnap:entries",{}),i=(0,r.tG)("moodSnap:settings:reminderEnabled",!1),o=(0,r.tG)("moodSnap:settings:streakEnabled",!1);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),s=0,n=new Date(t);for(;;)if(e[n.toISOString().slice(0,10)])s++,n.setDate(n.getDate()-1);else break;return s}(0,n.eU)(e=>{let t=e(a),s=new Date,n=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),i=Object.entries(t).filter(e=>{let[t,s]=e;return t.startsWith("".concat(n,"-").concat(r))});return i.length?Math.round(i.filter(e=>{let[,t]=e;return"good"===t}).length/i.length*100):0})}},e=>{var t=t=>e(e.s=t);e.O(0,[483,441,684,358],()=>t(3524)),_N_E=e.O()}]);