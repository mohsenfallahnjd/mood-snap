(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{5119:(e,t,r)=>{Promise.resolve().then(r.bind(r,7323))},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},7323:(e,t,r)=>{"use strict";r.d(t,{ReportPage:()=>m});var a=r(5155),n=r(2115),l=r(5695),s=r(3353),o=r(8534);let i=e=>{let{percent:t}=e,[r,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setTimeout(()=>l(t),50);return()=>clearTimeout(e)},[t]),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-blue-500 h-full rounded-full transition-[width] duration-500 ease-out",style:{width:"".concat(r,"%")}})})},c=e=>{let{entries:t,year:r,month:n}=e,l=Array.from({length:new Date(+r,+n,0).getDate()},(e,t)=>t+1);return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("div",{className:"inline-grid grid-cols-7 gap-1 w-full",children:l.map(e=>{let l=t["".concat(r,"-").concat(n.padStart(2,"0"),"-").concat(String(e).padStart(2,"0"))];return(0,a.jsx)("div",{className:"w-full h-12  border rounded ".concat("good"===l?"bg-green-300":"neutral"===l?"bg-yellow-300":"bad"===l?"bg-red-300":"bg-transparent"," flex items-center justify-center text-sm sm:text-base"),children:e},e)})})})},d=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}),u=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}),m=()=>{let e=(0,s.md)(o.iD),t=(0,l.useRouter)(),{year:r,month:m}=(0,l.useParams)(),g=Number(r),h=Number(m),f=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long"}).format(new Date(g,h-1));(0,n.useEffect)(()=>{r&&m||t.replace("/")},[r,m,t]);let{positiveRate:p,totalDays:x}=(0,n.useMemo)(()=>{let t="".concat(r,"-").concat(m),a=Object.entries(e).filter(e=>{let[r]=e;return r.startsWith(t)}),n=a.length,l=a.filter(e=>{let[,t]=e;return"good"===t}).length;return{positiveRate:n>0?Math.round(l/n*100):0,totalDays:n}},[e,r,m]);return(0,a.jsxs)("div",{className:"p-4 space-y-6 mt-16",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold",children:["Report: ",f]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"mt-2 sm:mt-0 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>{let e=+r,a=m-1;a<1&&(e--,a=12),t.push("/report/".concat(e,"/").concat(String(a).padStart(2,"0")))},children:(0,a.jsx)(d,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"mt-2 sm:mt-0 px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>{let e=+r,a=+m+1;a>12&&(e++,a=1),t.push("/report/".concat(e,"/").concat(String(a).padStart(2,"0")))},children:(0,a.jsx)(u,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i,{percent:p}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[p,"% good days (",x," days)"]})]}),(0,a.jsx)(c,{year:String(g),month:String(h),entries:e}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Data stored locally on this device. Clearing browser data or switching devices will reset your history."})]})}},8534:(e,t,r)=>{"use strict";r.d(t,{UU:()=>s,iD:()=>l,nv:()=>i,s_:()=>o});var a=r(3005),n=r(5179);let l=(0,n.tG)("moodSnap:entries",{}),s=(0,n.tG)("moodSnap:settings:reminderEnabled",!1),o=(0,n.tG)("moodSnap:settings:streakEnabled",!1);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),r=0,a=new Date(t);for(;;)if(e[a.toISOString().slice(0,10)])r++,a.setDate(a.getDate()-1);else break;return r}(0,a.eU)(e=>{let t=e(l),r=new Date,a=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),s=Object.entries(t).filter(e=>{let[t,r]=e;return t.startsWith("".concat(a,"-").concat(n))});return s.length?Math.round(s.filter(e=>{let[,t]=e;return"good"===t}).length/s.length*100):0})}},e=>{var t=t=>e(e.s=t);e.O(0,[483,441,684,358],()=>t(5119)),_N_E=e.O()}]);