(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4282:(e,t,a)=>{Promise.resolve().then(a.bind(a,8890))},5695:(e,t,a)=>{"use strict";var l=a(8999);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})},8534:(e,t,a)=>{"use strict";a.d(t,{UU:()=>s,iD:()=>r,nv:()=>i,s_:()=>o});var l=a(3005),n=a(5179);let r=(0,n.tG)("moodSnap:entries",{}),s=(0,n.tG)("moodSnap:settings:reminderEnabled",!1),o=(0,n.tG)("moodSnap:settings:streakEnabled",!1);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),a=0,l=new Date(t);for(;;)if(e[l.toISOString().slice(0,10)])a++,l.setDate(l.getDate()-1);else break;return a}(0,l.eU)(e=>{let t=e(r),a=new Date,l=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),s=Object.entries(t).filter(e=>{let[t,a]=e;return t.startsWith("".concat(l,"-").concat(n))});return s.length?Math.round(s.filter(e=>{let[,t]=e;return"good"===t}).length/s.length*100):0})},8890:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var l=a(5155),n=a(6874),r=a.n(n),s=a(3353),o=a(8534),i=a(5695),c=a(2699),d=a.n(c),u=a(2115);let m=u.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}),f=u.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}),h=u.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z",clipRule:"evenodd"}))}),g={good:"/images/moods/good.png",neutral:"/images/moods/neutral.png",bad:"/images/moods/bad.png"};function x(){let[e,t]=(0,s.fp)(o.iD),a=(0,i.useRouter)(),n=new Date().toISOString().slice(0,10),[c,x]=(0,u.useState)(!!e[n]),p=(0,o.nv)(e,n),[w,b]=(0,u.useState)(e[n]),[v]=(0,s.fp)(o.s_);(0,u.useEffect)(()=>{setTimeout(()=>{x(!!e[n]),b(e[n])},500)},[e,n]);let y=a=>{t({...e,[n]:a}),x(!0),b(a)},j=async()=>{var e,t;let a=document.getElementById("shareable-area");if(!a)return void alert("Nothing to share yet!");let l=await d()(a,{scale:2,backgroundColor:"#fff"}),n=await new Promise(e=>l.toBlob(e));if(!n)return void alert("Failed to capture snapshot");let r={files:[new File([n],"moodsnap.png",{type:"image/png"})],title:"My MoodSnap Entry",text:"Hey! How are you feeling today? I’m feeling ".concat(w||"\uD83E\uDD14","!"),url:"https://moodsnap.me"};if(null==(e=(t=navigator).canShare)?void 0:e.call(t,r))try{await navigator.share(r);return}catch(e){console.warn("Native share failed:",e)}let s=encodeURIComponent("https://moodsnap.me"),o=encodeURIComponent("I’m feeling ".concat(w||"\uD83E\uDD14"," today on MoodSnap!")),i="https://t.me/share/url?url=".concat(s,"&text=").concat(o);window.open(i,"_blank")};return(0,l.jsxs)("div",{className:"w-full mx-auto p-6 text-center h-180 flex flex-col justify-center",children:[v&&p>0&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["You’re on a ",(0,l.jsxs)("span",{className:"font-semibold text-blue-500",children:[p,"-day streak"]}),"!"]}),(0,l.jsxs)("div",{id:"shareable-area",className:"w-full max-w-[500px] mx-auto bg-white rounded-xl shadow-lg p-6 flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"How are you feeling today?"}),w?(0,l.jsx)("img",{src:g[w],alt:w,className:"w-24 h-24 mb-4"}):(0,l.jsx)("div",{className:"flex space-x-6",children:["good","neutral","bad"].map(e=>(0,l.jsx)("button",{onClick:()=>y(e),children:(0,l.jsx)("img",{src:g[e],alt:e,className:"w-16 h-16 hover:scale-110 transition"})},e))}),(0,l.jsx)("p",{className:"mt-auto text-xs",style:{color:"#6b7280"},children:"moodsnap.me"})]}),c&&(0,l.jsxs)("div",{className:"mt-12 flex flex-col items-center space-y-3 fade-in-up w-full max-w-[500px] mx-auto",children:[(0,l.jsxs)("div",{className:"w-full flex justify-center items-center space-x-3",children:[(0,l.jsx)("span",{className:" px-4 py-2 bg-green-100 text-green-800 rounded-full",children:"Mood recorded!"}),(0,l.jsx)("button",{onClick:()=>{x(!1),b(null)},className:"inline-flex items-center justify-center shadow-lg rounded-full p-2 bg-white text-black rounded border border-gray-200 transition",children:(0,l.jsx)(m,{className:"w-5 h-5"})})]}),(0,l.jsxs)("button",{onClick:()=>a.push("/report/".concat(n.slice(0,4),"/").concat(n.slice(5,7))),className:"w-full inline-flex items-center justify-center shadow-lg rounded-full px-5 py-2 bg-yellow-300 text-black rounded hover:bg-yellow-400 transition",children:[(0,l.jsx)(f,{className:"w-5 h-5 mr-2"}),"See Today’s Report"]}),(0,l.jsxs)("button",{onClick:j,className:" w-full inline-flex items-center  bg-gradient-to-r from-blue-500 to-indigo-500  hover:from-blue-600 hover:to-indigo-600  text-white font-medium  px-5 py-2 rounded-full  shadow-lg  transform transition  active:scale-95 justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400 ",children:[(0,l.jsx)(h,{className:"w-5 h-5 mr-2"}),"Share Your Mood"]})]}),(0,l.jsxs)("div",{className:"mt-12 text-sm text-gray-500",children:["Enjoying MoodSnap?"," ",(0,l.jsx)(r(),{href:"/about#donate",children:(0,l.jsx)("span",{className:"text-yellow-600 underline",children:"Support us"})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,483,874,441,684,358],()=>t(4282)),_N_E=e.O()}]);