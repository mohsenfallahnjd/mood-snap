(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3495:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var a=n(5155),l=n(6874),r=n.n(l),s=n(3353),o=n(8534),i=n(5695),c=n(2699),d=n.n(c),u=n(2115);let f=u.forwardRef(function(e,t){let{title:n,titleId:a,...l}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),n?u.createElement("title",{id:a},n):null,u.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}),m=u.forwardRef(function(e,t){let{title:n,titleId:a,...l}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),n?u.createElement("title",{id:a},n):null,u.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z",clipRule:"evenodd"}))});function h(){let[e,t]=(0,s.fp)(o.iD),n=(0,i.useRouter)(),l=new Date().toISOString().slice(0,10),[c,h]=(0,u.useState)(!!e[l]),x=(0,o.nv)(e,l),[g]=(0,s.fp)(o.s_);(0,u.useEffect)(()=>{setTimeout(()=>{h(!!e[l])},500)},[e,l]);let p=n=>{t({...e,[l]:n}),h(!0)},b=async()=>{let t=document.getElementById("shareable-area");if(!t)return alert("Nothing to share yet!");(await d()(t,{scale:2})).toBlob(async t=>{var n,a;if(!t)return;let r={files:[new File([t],"moodsnap.png",{type:"image/png"})],title:"My MoodSnap Entry",text:"I’m feeling ".concat(e[l]||"\uD83E\uDD14"," today! How are you feeling today?"),url:"https://moodsnap.me"};if(null==(n=(a=navigator).canShare)?void 0:n.call(a,r))await navigator.share(r);else{let e=URL.createObjectURL(t);window.open(e,"_blank")}})};return(0,a.jsxs)("div",{className:"max-w-md mx-auto p-6 text-center h-180 flex flex-col justify-center",children:[g&&x>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["You’re on a ",(0,a.jsxs)("span",{className:"font-semibold text-blue-500",children:[x,"-day streak"]}),"!"]}),(0,a.jsxs)("div",{id:"shareable-area",className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"How are you feeling today?"}),(0,a.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,a.jsx)("button",{onClick:()=>p("good"),className:"text-6xl hover:scale-110 transition",children:"\uD83D\uDE0A"}),(0,a.jsx)("button",{onClick:()=>p("neutral"),className:"text-6xl hover:scale-110 transition",children:"\uD83D\uDE10"}),(0,a.jsx)("button",{onClick:()=>p("bad"),className:"text-6xl hover:scale-110 transition",children:"\uD83D\uDE1E"})]})]}),c&&(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-3 fade-in-up",children:[(0,a.jsx)("span",{className:"px-4 py-2 mb-5 bg-green-100 text-green-800 rounded-full",children:"Mood recorded!"}),(0,a.jsxs)("button",{onClick:()=>n.push("/report/".concat(l.slice(0,4),"/").concat(l.slice(5,7))),className:"w-full inline-flex items-center justify-center shadow-lg rounded-full px-5 py-2 bg-yellow-300 text-black rounded hover:bg-yellow-400 transition",children:[(0,a.jsx)(f,{className:"w-5 h-5 mr-2"}),"See Today’s Report"]}),(0,a.jsxs)("button",{onClick:b,className:" w-full inline-flex items-center  bg-gradient-to-r from-blue-500 to-indigo-500  hover:from-blue-600 hover:to-indigo-600  text-white font-medium  px-5 py-2 rounded-full  shadow-lg  transform transition  active:scale-95 justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400 ",children:[(0,a.jsx)(m,{className:"w-5 h-5 mr-2"}),"Share Your Mood"]})]}),(0,a.jsxs)("div",{className:"mt-12 text-sm text-gray-500",children:["Enjoying MoodSnap?"," ",(0,a.jsx)(r(),{href:"/about#donate",children:(0,a.jsx)("span",{className:"text-yellow-600 underline",children:"Support us"})})]})]})}},4282:(e,t,n)=>{Promise.resolve().then(n.bind(n,3495))},5695:(e,t,n)=>{"use strict";var a=n(8999);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})},8534:(e,t,n)=>{"use strict";n.d(t,{UU:()=>s,iD:()=>r,nv:()=>i,s_:()=>o});var a=n(3005),l=n(5179);let r=(0,l.tG)("moodSnap:entries",{}),s=(0,l.tG)("moodSnap:settings:reminderEnabled",!1),o=(0,l.tG)("moodSnap:settings:streakEnabled",!1);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),n=0,a=new Date(t);for(;;)if(e[a.toISOString().slice(0,10)])n++,a.setDate(a.getDate()-1);else break;return n}(0,a.eU)(e=>{let t=e(r),n=new Date,a=n.getFullYear(),l=String(n.getMonth()+1).padStart(2,"0"),s=Object.entries(t).filter(e=>{let[t,n]=e;return t.startsWith("".concat(a,"-").concat(l))});return s.length?Math.round(s.filter(e=>{let[,t]=e;return"good"===t}).length/s.length*100):0})}},e=>{var t=t=>e(e.s=t);e.O(0,[316,483,874,441,684,358],()=>t(4282)),_N_E=e.O()}]);