(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4282:(e,t,l)=>{Promise.resolve().then(l.bind(l,8890))},5695:(e,t,l)=>{"use strict";var a=l(8999);l.o(a,"useParams")&&l.d(t,{useParams:function(){return a.useParams}}),l.o(a,"useRouter")&&l.d(t,{useRouter:function(){return a.useRouter}})},8534:(e,t,l)=>{"use strict";l.d(t,{UU:()=>s,iD:()=>r,nv:()=>i,s_:()=>o});var a=l(3005),n=l(5179);let r=(0,n.tG)("moodSnap:entries",{}),s=(0,n.tG)("moodSnap:settings:reminderEnabled",!1),o=(0,n.tG)("moodSnap:settings:streakEnabled",!1);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date().toISOString().slice(0,10),l=0,a=new Date(t);for(;;)if(e[a.toISOString().slice(0,10)])l++,a.setDate(a.getDate()-1);else break;return l}(0,a.eU)(e=>{let t=e(r),l=new Date,a=l.getFullYear(),n=String(l.getMonth()+1).padStart(2,"0"),s=Object.entries(t).filter(e=>{let[t,l]=e;return t.startsWith("".concat(a,"-").concat(n))});return s.length?Math.round(s.filter(e=>{let[,t]=e;return"good"===t}).length/s.length*100):0})},8890:(e,t,l)=>{"use strict";l.d(t,{default:()=>x});var a=l(5155),n=l(6874),r=l.n(n),s=l(3353),o=l(8534),i=l(5695),c=l(2699),d=l.n(c),u=l(2115);let m=u.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?u.createElement("title",{id:a},l):null,u.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}),f=u.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?u.createElement("title",{id:a},l):null,u.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}),h=u.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?u.createElement("title",{id:a},l):null,u.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z",clipRule:"evenodd"}))}),g={good:"/images/moods/good.png",neutral:"/images/moods/neutral.png",bad:"/images/moods/bad.png"};function x(){let[e,t]=(0,s.fp)(o.iD),l=(0,i.useRouter)(),n=new Date().toISOString().slice(0,10),[c,x]=(0,u.useState)(!!e[n]),p=(0,o.nv)(e,n),[w,b]=(0,u.useState)(e[n]),[v]=(0,s.fp)(o.s_);(0,u.useEffect)(()=>{setTimeout(()=>{x(!!e[n]),b(e[n])},500)},[e,n]);let j=l=>{t({...e,[n]:l}),x(!0),b(l)},y=async()=>{let e=document.getElementById("shareable-area");if(!e)return void alert("Nothing to share!");(await d()(e,{scale:2,backgroundColor:"#fff"})).toBlob(e=>{var t,l;if(!e)return void alert("Nothing to share!");let a={files:[new File([e],"moodsnap.png",{type:"image/png"})],title:"My MoodSnap",text:"Hey! How are you feeling today? I’m feeling ".concat(w||"\uD83E\uDD14","!"),url:"https://moodsnap.me"};(null==(t=(l=navigator).canShare)?void 0:t.call(l,a))?navigator.share(a):window.open(URL.createObjectURL(e),"_blank")})};return(0,a.jsxs)("div",{className:"w-full mx-auto p-6 text-center h-180 flex flex-col justify-center",children:[v&&p>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["You’re on a ",(0,a.jsxs)("span",{className:"font-semibold text-blue-500",children:[p,"-day streak"]}),"!"]}),(0,a.jsxs)("div",{id:"shareable-area",className:"w-full max-w-[500px] mx-auto bg-white rounded-xl shadow-lg p-6 flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"How are you feeling today?"}),w?(0,a.jsx)("img",{src:g[w],alt:w,className:"w-24 h-24 mb-4"}):(0,a.jsx)("div",{className:"flex space-x-6",children:["good","neutral","bad"].map(e=>(0,a.jsx)("button",{onClick:()=>j(e),children:(0,a.jsx)("img",{src:g[e],alt:e,className:"w-16 h-16 hover:scale-110 transition"})},e))}),(0,a.jsx)("p",{className:"mt-auto text-xs",style:{color:"#6b7280"},children:"moodsnap.me"})]}),c&&(0,a.jsxs)("div",{className:"mt-12 flex flex-col items-center space-y-3 fade-in-up w-full max-w-[500px] mx-auto",children:[(0,a.jsxs)("div",{className:"w-full flex justify-center items-center space-x-3",children:[(0,a.jsx)("span",{className:" px-4 py-2 bg-green-100 text-green-800 rounded-full",children:"Mood recorded!"}),(0,a.jsx)("button",{onClick:()=>{x(!1),b(null)},className:"inline-flex items-center justify-center shadow-lg rounded-full p-2 bg-white text-black rounded border border-gray-200 transition",children:(0,a.jsx)(m,{className:"w-5 h-5"})})]}),(0,a.jsxs)("button",{onClick:()=>l.push("/report/".concat(n.slice(0,4),"/").concat(n.slice(5,7))),className:"w-full inline-flex items-center justify-center shadow-lg rounded-full px-5 py-2 bg-yellow-300 text-black rounded hover:bg-yellow-400 transition",children:[(0,a.jsx)(f,{className:"w-5 h-5 mr-2"}),"See Today’s Report"]}),(0,a.jsxs)("button",{onClick:y,className:" w-full inline-flex items-center  bg-gradient-to-r from-blue-500 to-indigo-500  hover:from-blue-600 hover:to-indigo-600  text-white font-medium  px-5 py-2 rounded-full  shadow-lg  transform transition  active:scale-95 justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-400 ",children:[(0,a.jsx)(h,{className:"w-5 h-5 mr-2"}),"Share Your Mood"]})]}),(0,a.jsxs)("div",{className:"mt-12 text-sm text-gray-500",children:["Enjoying MoodSnap?"," ",(0,a.jsx)(r(),{href:"/about#donate",children:(0,a.jsx)("span",{className:"text-yellow-600 underline",children:"Support us"})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,483,874,441,684,358],()=>t(4282)),_N_E=e.O()}]);